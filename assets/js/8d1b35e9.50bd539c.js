"use strict";(self.webpackChunkcourses=self.webpackChunkcourses||[]).push([[3808],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var a=s(96540);const i={},c=a.createContext(i);function r(e){const n=a.useContext(c);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(c.Provider,{value:n},e.children)}},30590:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"cloud_operations/kubernetes/resources/configmaps_and_secrets","title":"ConfigMaps and Secrets","description":"","source":"@site/docs/cloud_operations/kubernetes/resources/configmaps_and_secrets.md","sourceDirName":"cloud_operations/kubernetes/resources","slug":"/cloud_operations/kubernetes/resources/configmaps_and_secrets","permalink":"/docs/cloud_operations/kubernetes/resources/configmaps_and_secrets","draft":false,"unlisted":false,"editUrl":"https://github.com/ipworkshop/ipworkshop.github.io/edit/main/docs/cloud_operations/kubernetes/resources/configmaps_and_secrets.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"ConfigMaps and Secrets","description":"","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Pods","permalink":"/docs/category/pods"},"next":{"title":"Services","permalink":"/docs/category/services"}}');var i=s(74848),c=s(28453);const r={title:"ConfigMaps and Secrets",description:"",sidebar_position:3},o="ConfigMaps and Secrets",t={},l=[{value:"Goals",id:"goals",level:3},{value:"Understanding ConfigMaps",id:"understanding-configmaps",level:2},{value:"Basic ConfigMap Example",id:"basic-configmap-example",level:3},{value:"Using ConfigMaps in Pods",id:"using-configmaps-in-pods",level:3},{value:"Understanding Secrets",id:"understanding-secrets",level:2},{value:"Basic Secret Example",id:"basic-secret-example",level:3},{value:"Using Secrets in Pods",id:"using-secrets-in-pods",level:3},{value:"Exercises",id:"exercises",level:2},{value:"Exercise 1: Creating and Using a ConfigMap (Easy)",id:"exercise-1-creating-and-using-a-configmap-easy",level:3},{value:"Exercise 2: Creating and Using a Secret (Medium)",id:"exercise-2-creating-and-using-a-secret-medium",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsxs)(n.h1,{id:"configmaps-and-secrets",children:[(0,i.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/configuration/configmap/",children:"ConfigMaps"})," and ",(0,i.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/configuration/secret/",children:"Secrets"})]})}),"\n",(0,i.jsx)(n.h3,{id:"goals",children:"Goals"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Understand ConfigMaps and Secrets"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Learn what ConfigMaps and Secrets are, and their roles in Kubernetes."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Basic Examples"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Provide basic examples of ConfigMaps and Secrets."}),"\n",(0,i.jsx)(n.li,{children:"Show how to define ConfigMaps and Secrets using YAML."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Usage in Pods"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Demonstrate how to use ConfigMaps and Secrets to manage configuration and sensitive data within pods."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Exercise"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Hands-on activities to create and use ConfigMaps and Secrets in a Kubernetes cluster."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"understanding-configmaps",children:"Understanding ConfigMaps"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ConfigMaps"})," are Kubernetes objects used to store non-confidential data in key-value pairs. They can be used to configure application settings and pass configuration data into pods."]}),"\n",(0,i.jsx)(n.h3,{id:"basic-configmap-example",children:"Basic ConfigMap Example"}),"\n",(0,i.jsx)(n.p,{children:"Here is a basic example of a Kubernetes ConfigMap specification in YAML:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: example-configmap\ndata:\n  config.json: |\n    {\n      "key1": "value1",\n      "key2": "value2"\n    }\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Save this to a file named ",(0,i.jsx)(n.code,{children:"configmap.yaml"})," and create the ConfigMap using:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> kubectl apply -f configmap.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can view all config maps and read their contents using:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'> kubectl get configmaps\nNAME                DATA   AGE\nexample-configmap   1      54s\nkube-root-ca.crt    1      46m\n\n> kubectl describe configmaps example-configmap\nName:         example-configmap\nNamespace:    default\nLabels:       <none>\nAnnotations:  <none>\n\nData\n====\nconfig.json:\n----\n{\n  "key1": "value1",\n  "key2": "value2"\n}\n\n\nBinaryData\n====\n\nEvents:  <none>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"using-configmaps-in-pods",children:"Using ConfigMaps in Pods"}),"\n",(0,i.jsx)(n.p,{children:"To use a ConfigMap in a pod, you can reference it in the pod specification. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: configmap-pod\nspec:\n  containers:\n  - name: app-container\n    image: nginx:latest\n    volumeMounts:\n    - name: config-volume\n      mountPath: /etc/config\n  volumes:\n  - name: config-volume\n    configMap:\n      name: example-configmap\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In this example, the ConfigMap ",(0,i.jsx)(n.code,{children:"example-configmap"})," is mounted as a volume in the pod at ",(0,i.jsx)(n.code,{children:"/etc/config"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["After you ",(0,i.jsx)(n.code,{children:"apply"})," the pod, you can see the config by ",(0,i.jsx)(n.code,{children:"cat"}),"-ing the file contents:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> kubectl exec -it configmap-pod -- cat /etc/config/config.json\n"})}),"\n",(0,i.jsx)(n.h2,{id:"understanding-secrets",children:"Understanding Secrets"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Secrets"})," are Kubernetes objects designed to hold sensitive data, such as passwords, OAuth tokens, and SSH keys. The data in Secrets is encoded as base64 strings."]}),"\n",(0,i.jsx)(n.h3,{id:"basic-secret-example",children:"Basic Secret Example"}),"\n",(0,i.jsx)(n.p,{children:"Here is a basic example of a Kubernetes Secret specification in YAML:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Secret\nmetadata:\n  name: example-secret\ndata:\n  username: YWRtaW4=\n  password: MWYyZDFlMmU2N2Rm\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The values for ",(0,i.jsx)(n.code,{children:"username"})," and ",(0,i.jsx)(n.code,{children:"password"})," are base64-encoded strings (",(0,i.jsx)(n.code,{children:"admin"})," and ",(0,i.jsx)(n.code,{children:"1f2d1e2e67df"}),", respectively)."]}),"\n",(0,i.jsxs)(n.p,{children:["Save this to a file named ",(0,i.jsx)(n.code,{children:"secret.yaml"})," and create the Secret:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> kubectl apply -f secret.yaml\n"})}),"\n",(0,i.jsx)(n.h3,{id:"using-secrets-in-pods",children:"Using Secrets in Pods"}),"\n",(0,i.jsx)(n.p,{children:"To use a Secret in a pod, you can reference it similarly to a ConfigMap:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: secret-pod\nspec:\n  containers:\n  - name: app-container\n    image: nginx:latest\n    env:\n    - name: USERNAME\n      valueFrom:\n        secretKeyRef:\n          name: example-secret\n          key: username\n    - name: PASSWORD\n      valueFrom:\n        secretKeyRef:\n          name: example-secret\n          key: password\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In this example, the Secret ",(0,i.jsx)(n.code,{children:"example-secret"})," is used to set environment variables in the pod."]}),"\n",(0,i.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,i.jsx)(n.h3,{id:"exercise-1-creating-and-using-a-configmap-easy",children:"Exercise 1: Creating and Using a ConfigMap (Easy)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Objective"}),": Create a ConfigMap and use it to configure a pod."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Task"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create a ConfigMap with a configuration file."}),"\n",(0,i.jsx)(n.li,{children:"Use this ConfigMap in a pod."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Instructions"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a YAML file named ",(0,i.jsx)(n.code,{children:"my-configmap.yaml"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: my-configmap\ndata:\n  app.properties: |\n    setting1=value1\n    setting2=value2\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Apply the ConfigMap:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> kubectl apply -f my-configmap.yaml\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Create a YAML file named ",(0,i.jsx)(n.code,{children:"configmap-pod.yaml"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: configmap-pod\nspec:\n  containers:\n  - name: app-container\n    image: busybox\n    command: ["sh", "-c", "cat /etc/config/app.properties && sleep 3600"]\n    volumeMounts:\n    - name: config-volume\n      mountPath: /etc/config\n  volumes:\n  - name: config-volume\n    configMap:\n      name: my-configmap\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Apply the pod configuration:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> kubectl apply -f configmap-pod.yaml\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"Verify the pod is running and inspect the logs to see the ConfigMap data:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> kubectl logs configmap-pod\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"exercise-2-creating-and-using-a-secret-medium",children:"Exercise 2: Creating and Using a Secret (Medium)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Objective"}),": Create a Secret and use it in a pod."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Task"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create a Secret containing sensitive information."}),"\n",(0,i.jsx)(n.li,{children:"Use this Secret in a pod to set environment variables."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Instructions"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a YAML file named ",(0,i.jsx)(n.code,{children:"my-secret.yaml"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Secret\nmetadata:\n  name: my-secret\ndata:\n  api-key: c2VjcmV0YXBpa2V5\n"})}),"\n",(0,i.jsxs)(n.p,{children:["(The value ",(0,i.jsx)(n.code,{children:"c2VjcmV0YXBpa2V5"})," is base64 for ",(0,i.jsx)(n.code,{children:"secretapikey"}),".)"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Apply the Secret:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> kubectl apply -f my-secret.yaml\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Create a YAML file named ",(0,i.jsx)(n.code,{children:"secret-pod.yaml"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: secret-pod\nspec:\n  containers:\n  - name: app-container\n    image: busybox\n    command: ["sh", "-c", "echo $API_KEY && sleep 3600"]\n    env:\n    - name: API_KEY\n      valueFrom:\n        secretKeyRef:\n          name: my-secret\n          key: api-key\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Apply the pod configuration:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> kubectl apply -f secret-pod.yaml\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"Verify the pod is running and inspect the logs to see the API key:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> kubectl logs secret-pod\n"})}),"\n",(0,i.jsx)(n.p,{children:"These exercises cover the basics of creating and using ConfigMaps and Secrets in Kubernetes, providing both practical examples and explanations."})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);